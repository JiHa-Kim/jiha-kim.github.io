/* Colour-box mix-in (Chirpy prompt boxes) ------------------------------ */
@mixin colorbox(
  $border-color,
  $icon-color,
  $icon-content,
  $bg-color,
  $fa-style: 'solid'
) {
  border-left   : 0.2rem solid $border-color;
  border-radius : 0.25rem;
  color         : var(--text-color);
  padding       : 0.6rem 1rem 0.6rem 1.5rem;
  box-shadow    : var(--language-border-color) 1px 1px 2px 1px;
  position      : relative;
  margin-bottom : 1rem;

  > .title {
    position     : relative;
    background   : $bg-color;
    color        : $icon-color;
    font-weight  : 600;
    display      : flex;
    align-items  : center;
    line-height  : 1.15;
    padding      : 0.55rem 0.8rem 0.55rem 3rem;
    margin       : -0.6rem -1rem 0.6rem -1.5rem;

    > p { margin: 0; }
  }

  > .title::before {
    content              : $icon-content;
    font                 : var(--fa-font-#{$fa-style});
    color                : $icon-color;
    position             : absolute;
    top                  : 50%;
    left                 : 0.8rem;
    transform            : translateY(-50%);
    line-height          : 1;
    text-rendering       : auto;
    -webkit-font-smoothing: antialiased;
  }

  > p:last-child { margin-bottom: 0; }
}

/* ----------------------------------------------------------- */
/* Concrete variants                                           */
/* ----------------------------------------------------------- */
.box-info    { @include colorbox(var(--prompt-info-icon-color),    var(--prompt-info-icon-color),    '\f06a', var(--prompt-info-bg   )); }
.box-tip     { @include colorbox(var(--prompt-tip-icon-color),     var(--prompt-tip-icon-color),     '\f0eb', var(--prompt-tip-bg    ), 'regular'); }
.box-warning { @include colorbox(var(--prompt-warning-icon-color), var(--prompt-warning-icon-color), '\f06a', var(--prompt-warning-bg)); }
.box-danger  { @include colorbox(var(--prompt-danger-icon-color),  var(--prompt-danger-icon-color),  '\f071', var(--prompt-danger-bg )); }

/* ----------------------------------------------------------- */
/* Dark-mode variable overrides                                */
/* ----------------------------------------------------------- */
@media (prefers-color-scheme: dark) {
  :root {
    /* Info (blue) */
    --prompt-info-icon-color   : #38bdf8;
    --prompt-info-bg           : rgba(56, 189, 248, 0.10);

    /* Tip (purple) */
    --prompt-tip-icon-color    : #a78bfa;
    --prompt-tip-bg            : rgba(167, 139, 250, 0.10);

    /* Warning (yellow) */
    --prompt-warning-icon-color: #facc15;
    --prompt-warning-bg        : rgba(250, 204, 21,  0.10);

    /* Danger (red) */
    --prompt-danger-icon-color : #f87171;
    --prompt-danger-bg         : rgba(248, 113, 113, 0.10);
  }
}
