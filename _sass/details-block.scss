/* Details-Block for Jekyll Chirpy
 * ----------------------------------------------------------- */

/* -- main wrapper ------------------------------------------- */
details.details-block {
    border-radius : 0.25rem;
    border-left   : 0.25rem solid var(--prompt-tip-icon-color);
    box-shadow    : var(--language-border-color) 1px 1px 2px 1px;
    margin        : 1rem 0;
    padding       : 0.6rem 1rem 0 1.5rem;
    overflow      : hidden;
  
    > p:last-child { margin-bottom: 0; }
  }
  
  /* -- summary bar -------------------------------------------- */
  details.details-block > summary {
    cursor           : pointer;
    list-style       : none;
    position         : relative;
    margin           : -0.6rem -1rem 0 -1.5rem;
    padding          : 0.55rem 2.8rem 0.55rem 1.25rem;
    display          : flex;
    align-items      : center;
    font-weight      : 600;
    line-height      : 1.15;
    color            : var(--prompt-tip-icon-color);
    background       : var(--prompt-tip-bg);
    text-decoration  : underline;
    user-select      : none;
  
    > p { margin: 0; }
  }
  
  /* remove built-in markers */
  details.details-block > summary::-webkit-details-marker,
  details.details-block > summary::marker {
    display: none;
  }
  
  /* LEFT icon – book/book-open swap */
  details.details-block > summary::before,
  details.details-block[open] > summary::before {
    font-family : 'Font Awesome 6 Free';
    font-weight : 900;
    margin-right: 0.5rem;
    display     : inline-block;
    speak       : none;
  }
  details.details-block > summary::before       { content: "\f02e"; }
  details.details-block[open] > summary::before { content: "\f518"; }
  
  /* RIGHT chevron – rotates on open */
  details.details-block > summary::after,
  details.details-block[open] > summary::after {
    font-family : 'Font Awesome 6 Free';
    font-weight : 900;
    content     : "\f105";
    position    : absolute;
    right       : 1rem;
    top         : 50%;
    transform   : translateY(-50%);
    transition  : transform 0.2s ease;
  }
  details.details-block[open] > summary::after {
    transform: translateY(-50%) rotate(90deg);
  }
  
  /* tiny bounce on open */
  @keyframes bop { 50% { transform: scale(1.12); } }
  details.details-block[open] > summary::before {
    animation: bop 0.18s ease-out;
  }
  
  /* ----------------------------------------------------------- */
  /* Dark-mode variable overrides                                */
  /* ----------------------------------------------------------- */
  @media (prefers-color-scheme: dark) {
    :root {
      /* original “Tip” variant (purple) */
      --prompt-tip-icon-color: #a78bfa;
      --prompt-tip-bg        : rgba(167, 139, 250, 0.10);
  
      /* new “Success”/Derivation variant (green) */
      --prompt-success-icon-color: #4ade80;
      --prompt-success-bg       : rgba(22, 163, 74, 0.14);
    }
  
    /* If you tag derivation blocks with a “success” class: */
    details.details-block.success > summary {
      color     : var(--prompt-success-icon-color);
      background: var(--prompt-success-bg);
    }
  
    /* Optional: remove always-on underline & show on hover */
    details.details-block > summary {
      text-decoration: none;
    }
    details.details-block > summary:hover {
      text-decoration          : underline;
      text-decoration-thickness: 0.08em;
    }
  }
  