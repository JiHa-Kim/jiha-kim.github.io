/*  Details-Block for Jekyll Chirpy
 *  Adapted (with thanks) from the CSS published by Huanyu Shi
 *  https://huanyushi.github.io/posts/chirpy-blog-customization/
 * ------------------------------------------------------------------ */

/* ── main wrapper ────────────────────────────────────────────────── */

details.details-block {
  /* geometry & colours parallel to `.prompt-tip` */
  border-radius: .25rem;
  border-left: .25rem solid var(--prompt-tip-icon-color);
  box-shadow: var(--language-border-color) 1px 1px 2px 1px;
  margin: 1rem 0;
  padding: .6rem 1rem 0 1.5rem;

  /* clip the inside so the summary bar can sit flush */
  overflow: hidden;

  /* cancel bottom-margin of the last paragraph */
  > p:last-child { margin-bottom: 0; }
}

/* ── summary bar ─────────────────────────────────────────────────── */

details.details-block > summary {
  cursor: pointer;
  list-style: none;                 /* hide default ▸ triangle        */
  position: relative;

  margin: -.6rem -1rem 0 -1.5rem;
  padding: .55rem 2.8rem .55rem 1.25rem;

  font-weight: 600;
  color: var(--prompt-tip-icon-color);
  background: var(--prompt-tip-bg);
  text-decoration: underline;       /* the little link vibe            */
  user-select: none;
}

/* remove built-in markers on WebKit & Firefox */
details.details-block > summary::-webkit-details-marker,
details.details-block > summary::marker { display: none; }

/* ── icons (Font Awesome) ────────────────────────────────────────── */

/* LEFT icon – shows a book when closed, swaps to open-book on expand */
details.details-block > summary::before,
details.details-block[open] > summary::before {
  font-family: 'Font Awesome 6 Free';
  font-weight: 900; /* solid */
  margin-right: .5rem;
  display: inline-block;
  speak: none;      /* accessibility helpers                       */
}

details.details-block > summary::before      { content: "\f02e"; } /* fa-book      */
details.details-block[open] > summary::before{ content: "\f518"; } /* fa-book-open */

/* RIGHT chevron – rotates on open */
details.details-block > summary::after,
details.details-block[open] > summary::after {
  font-family: 'Font Awesome 6 Free';
  font-weight: 900; /* solid */
  content: "\f105";           /* fa-angle-right */
  position: absolute;
  right: 1rem; top: 50%; transform: translateY(-50%);
  transition: transform .2s ease;  /* smooth rotate */
}

details.details-block[open] > summary::after { transform: translateY(-50%) rotate(90deg); }

/* tiny bounce on opening (optional) */
@keyframes bop { 50% { transform: scale(1.12); } }
details.details-block[open] > summary::before { animation: bop .18s ease-out; }
